<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Teste Player</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://geo.dailymotion.com/libs/player/x7iwu.js"></script>
</head>
<body class=" mt-5">
  <div class="container">
    <h2 class="text-center">Teste Player</h2>
    <div class="row">
      <div class="col-lg-8">
        <p>In scelerisque sem sed tortor posuere sagittis. Fusce scelerisque odio at tincidunt ultricies. Fusce egestas, erat non finibus dictum, nulla arcu viverra nibh, at bibendum ligula nisi egestas magna. Nulla eu finibus nulla. Pellentesque at mi eget turpis consequat scelerisque. Sed lacinia, nisi sit amet egestas vestibulum, elit odio iaculis leo, et lacinia risus enim non lacus. Cras nec neque eget nunc gravida maximus. Ut hendrerit convallis sollicitudin. Donec cursus erat vel metus gravida, et pretium justo iaculis. Curabitur condimentum blandit augue, quis interdum leo. Vivamus dapibus est nec dui efficitur, eu imperdiet nulla sollicitudin. Suspendisse laoreet velit vitae arcu mollis, ac interdum lorem venenatis. Aenean nec purus varius, accumsan ex at, luctus arcu. Quisque consectetur tortor eros, placerat lacinia eros aliquam a. Proin non porttitor libero.</p>
        <div id="instreamPlayer"></div>
        <p>In scelerisque sem sed tortor posuere sagittis. Fusce scelerisque odio at tincidunt ultricies. Fusce egestas, erat non finibus dictum, nulla arcu viverra nibh, at bibendum ligula nisi egestas magna. Nulla eu finibus nulla. Pellentesque at mi eget turpis consequat scelerisque. Sed lacinia, nisi sit amet egestas vestibulum, elit odio iaculis leo, et lacinia risus enim non lacus. Cras nec neque eget nunc gravida maximus. Ut hendrerit convallis sollicitudin. Donec cursus erat vel metus gravida, et pretium justo iaculis. Curabitur condimentum blandit augue, quis interdum leo. Vivamus dapibus est nec dui efficitur, eu imperdiet nulla sollicitudin. Suspendisse laoreet velit vitae arcu mollis, ac interdum lorem venenatis. Aenean nec purus varius, accumsan ex at, luctus arcu. Quisque consectetur tortor eros, placerat lacinia eros aliquam a. Proin non porttitor libero.</p>
      </div>
      <div class="col-lg-4">
        <p>In scelerisque sem sed tortor posuere sagittis. Fusce scelerisque odio at tincidunt ultricies. Fusce egestas, erat non finibus dictum, nulla arcu viverra nibh, at bibendum ligula nisi egestas magna. Nulla eu finibus nulla. Pellentesque at mi eget turpis consequat scelerisque. Sed lacinia, nisi sit amet egestas vestibulum, elit odio iaculis leo, et lacinia risus enim non lacus. Cras nec neque eget nunc gravida maximus. Ut hendrerit convallis sollicitudin. Donec cursus erat vel metus gravida, et pretium justo iaculis. Curabitur condimentum blandit augue, quis interdum leo. Vivamus dapibus est nec dui efficitur, eu imperdiet nulla sollicitudin. Suspendisse laoreet velit vitae arcu mollis, ac interdum lorem venenatis. Aenean nec purus varius, accumsan ex at, luctus arcu. Quisque consectetur tortor eros, placerat lacinia eros aliquam a. Proin non porttitor libero.</p>
        <p>In scelerisque sem sed tortor posuere sagittis. Fusce scelerisque odio at tincidunt ultricies. Fusce egestas, erat non finibus dictum, nulla arcu viverra nibh, at bibendum ligula nisi egestas magna. Nulla eu finibus nulla. Pellentesque at mi eget turpis consequat scelerisque. Sed lacinia, nisi sit amet egestas vestibulum, elit odio iaculis leo, et lacinia risus enim non lacus. Cras nec neque eget nunc gravida maximus. Ut hendrerit convallis sollicitudin. Donec cursus erat vel metus gravida, et pretium justo iaculis. Curabitur condimentum blandit augue, quis interdum leo. Vivamus dapibus est nec dui efficitur, eu imperdiet nulla sollicitudin. Suspendisse laoreet velit vitae arcu mollis, ac interdum lorem venenatis. Aenean nec purus varius, accumsan ex at, luctus arcu. Quisque consectetur tortor eros, placerat lacinia eros aliquam a. Proin non porttitor libero.</p>
        <p>In scelerisque sem sed tortor posuere sagittis. Fusce scelerisque odio at tincidunt ultricies. Fusce egestas, erat non finibus dictum, nulla arcu viverra nibh, at bibendum ligula nisi egestas magna. Nulla eu finibus nulla. Pellentesque at mi eget turpis consequat scelerisque. Sed lacinia, nisi sit amet egestas vestibulum, elit odio iaculis leo, et lacinia risus enim non lacus. Cras nec neque eget nunc gravida maximus. Ut hendrerit convallis sollicitudin. Donec cursus erat vel metus gravida, et pretium justo iaculis. Curabitur condimentum blandit augue, quis interdum leo. Vivamus dapibus est nec dui efficitur, eu imperdiet nulla sollicitudin. Suspendisse laoreet velit vitae arcu mollis, ac interdum lorem venenatis. Aenean nec purus varius, accumsan ex at, luctus arcu. Quisque consectetur tortor eros, placerat lacinia eros aliquam a. Proin non porttitor libero.</p>
      </div>
    </div>
  </div>
  <div class="fixed-top shadow-sm bg-white d-flex flex-column-reverse align-item-center">
    <button type="button" data-toggle="collapse" class="btn btn-primary shadow-sm" data-target="#dailymotion-form" aria-expanded="false" aria-controls="dailymotion-form">Change Dailymotion parameters</button>
    <div id="dailymotion-form" class="collapse">
      <div class="card card-body shadow-sm">
        <form action="">
          <div class="form-group">
            <label for="iu">iu</label>
            <input class="form-control" name="iu" type="text" placeholder="/21636860837/PurePeople/Instream/Content/Site" value="/21636860837/PurePeople/Instream/Content/Site"></input>
          </div>

          <div class="form-group">
            <label for="cust_params">cust_params</label>
            <input class="form-control" name="cust_params" type="text" placeholder="ad=teste" value="ad=teste"></input>
          </div>

          <div class="form-group">
            <label for="additional_vast_params">Additional VAST parameters</label>
            <input class="form-control" name="additional_vast_params" type="text" placeholder="pmnd=0&pmxd=60000&pmad=2" value="pmnd=0&pmxd=60000&pmad=2"></input>
          </div>

          <button id="lauch-dm-button" class="btn btn-primary">Relaunch Dailymotion</button>

        </form>
      </div>
    </div>
  </div>
  <script>

    var elem = document.querySelector("#lauch-dm-button")
    elem.addEventListener("click", function(e) {
      e.preventDefault()
      launchDM({"iu": document.querySelector('input[name="iu"]').value, "cust_params": document.querySelector('input[name="cust_params"]').value, "additional_vast_params": document.querySelector('input[name="additional_vast_params"]').value})
    })

    function launchDM(params) {
      console.log("Dailymotion launched with :")
      console.table(params)
      var iu = params.iu || "/21636860837/PurePeople/Instream/Content/Site"
      var custParams = params.custParams || "ad=teste"
      var additionalVastParams = params.additionalVastParams || "pmnd=0&pmxd=60000&pmad=2"
      var rand = Math.floor(Math.random() * 99999999);

      dailymotion.createPlayer('instreamPlayer', {
        video: 'x89avpd',
        referrerPolicy: "no-referrer-when-downgrade",
        params: {
          mute: true,
          customConfig: {customParams: encodeURIComponent(iu) + "/" + encodeURIComponent(custParams) + '&' + additionalVastParams + '&scor=' + rand},
        }
      });
    }

    launchDM({"iu": document.querySelector('input[name="iu"]').value, "cust_params": document.querySelector('input[name="cust_params"]').value, "additional_vast_params": document.querySelector('input[name="additional_vast_params"]').value})

  </script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>